# ëŒ€ê¸°ì§ˆ API

> ì„œìš¸ì‹œ ì‹¤ì‹œê°„ ëŒ€ê¸°í™˜ê²½ ì •ë³´ ì¡°íšŒ

## ğŸ“‹ ê°œìš”

ì„œìš¸ì‹œ ê³µê³µë°ì´í„° í¬íƒˆì˜ ì‹¤ì‹œê°„ ëŒ€ê¸°í™˜ê²½ í˜„í™© APIë¥¼ í™œìš©í•˜ì—¬ ë¯¸ì„¸ë¨¼ì§€, ì´ˆë¯¸ì„¸ë¨¼ì§€, ì˜¤ì¡´ ë“±ì˜ ëŒ€ê¸°ì§ˆ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

**Base URL**: `/api/air-quality`

## ğŸ“š API ì—”ë“œí¬ì¸íŠ¸

### 1. ì‹¤ì‹œê°„ ëŒ€ê¸°ì§ˆ ì¡°íšŒ

ì„œìš¸ì‹œ ì „ì²´ ì¸¡ì •ì†Œì˜ ì‹¤ì‹œê°„ ëŒ€ê¸°ì§ˆ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

```http
GET /api/air-quality/current
```

**ì‘ë‹µ**
```json
{
  "status": "success",
  "data": {
    "updateTime": "2025-01-XX 10:00:00",
    "totalStations": 25,
    "stations": [
      {
        "stationName": "ì¤‘êµ¬",
        "district": "ì¤‘êµ¬",
        "pm10": {
          "value": 45,
          "grade": "ë³´í†µ",
          "unit": "ã/ã¥"
        },
        "pm25": {
          "value": 28,
          "grade": "ì¢‹ìŒ",
          "unit": "ã/ã¥"
        },
        "o3": {
          "value": 0.025,
          "grade": "ì¢‹ìŒ",
          "unit": "ppm"
        },
        "no2": {
          "value": 0.018,
          "grade": "ì¢‹ìŒ",
          "unit": "ppm"
        },
        "co": {
          "value": 0.4,
          "grade": "ì¢‹ìŒ",
          "unit": "ppm"
        },
        "so2": {
          "value": 0.003,
          "grade": "ì¢‹ìŒ",
          "unit": "ppm"
        },
        "overallGrade": "ë³´í†µ",
        "coordinates": {
          "latitude": 37.5665,
          "longitude": 126.9780
        }
      }
    ]
  },
  "timestamp": "2025-01-XX 10:00:00"
}
```

### 2. íŠ¹ì • ì§€ì—­ ëŒ€ê¸°ì§ˆ ì¡°íšŒ

íŠ¹ì • ìì¹˜êµ¬ì˜ ëŒ€ê¸°ì§ˆ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

```http
GET /api/air-quality/district/{district}
```

**ì‘ë‹µ**
```json
{
  "status": "success",
  "data": {
    "district": "ì¤‘êµ¬",
    "stationName": "ì¤‘êµ¬",
    "updateTime": "2025-01-XX 10:00:00",
    "airQuality": {
      "pm10": {
        "value": 45,
        "grade": "ë³´í†µ",
        "unit": "ã/ã¥",
        "threshold": {
          "good": 30,
          "normal": 80,
          "bad": 150
        }
      },
      "pm25": {
        "value": 28,
        "grade": "ì¢‹ìŒ",
        "unit": "ã/ã¥",
        "threshold": {
          "good": 15,
          "normal": 35,
          "bad": 75
        }
      },
      "overallGrade": "ë³´í†µ",
      "healthAdvice": {
        "general": "ì‹¤ì™¸í™œë™ ì‹œ ë§ˆìŠ¤í¬ ì°©ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤.",
        "sensitive": "ë¯¼ê°êµ°ì€ ì¥ì‹œê°„ ì‹¤ì™¸í™œë™ì„ ìì œí•˜ì„¸ìš”.",
        "children": "ì–´ë¦°ì´ëŠ” ì‹¤ì™¸í™œë™ì„ ì¤„ì´ì„¸ìš”."
      }
    }
  },
  "timestamp": "2025-01-XX 10:00:00"
}
```

### 3. ìœ„ì¹˜ ê¸°ë°˜ ëŒ€ê¸°ì§ˆ ì¡°íšŒ

ì‚¬ìš©ì ìœ„ì¹˜ ê¸°ì¤€ ê°€ì¥ ê°€ê¹Œìš´ ì¸¡ì •ì†Œì˜ ëŒ€ê¸°ì§ˆ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

```http
GET /api/air-quality/nearby?latitude=37.5665&longitude=126.9780
```

### 4. ëŒ€ê¸°ì§ˆ ì˜ˆë³´ ì¡°íšŒ

ì„œìš¸ì‹œ ëŒ€ê¸°ì§ˆ ì˜ˆë³´ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

```http
GET /api/air-quality/forecast?days=3
```

**ì‘ë‹µ**
```json
{
  "status": "success",
  "data": {
    "issueTime": "2025-01-XX 06:00:00",
    "forecasts": [
      {
        "date": "2025-01-XX",
        "pm10": {
          "grade": "ë³´í†µ",
          "range": "31-80ã/ã¥",
          "description": "ëŒ€ê¸° ì •ì²´ë¡œ ì¸í•´ ë¯¸ì„¸ë¨¼ì§€ ë†ë„ê°€ ë‹¤ì†Œ ë†’ì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë©ë‹ˆë‹¤."
        },
        "pm25": {
          "grade": "ì¢‹ìŒ",
          "range": "16-35ã/ã¥",
          "description": "ì´ˆë¯¸ì„¸ë¨¼ì§€ ë†ë„ëŠ” ì–‘í˜¸í•œ ìˆ˜ì¤€ì„ ìœ ì§€í•  ê²ƒìœ¼ë¡œ ì˜ˆìƒë©ë‹ˆë‹¤."
        },
        "o3": {
          "grade": "ë³´í†µ",
          "description": "ì˜¤ì¡´ ë†ë„ëŠ” ë³´í†µ ìˆ˜ì¤€ì„ ìœ ì§€í•  ê²ƒìœ¼ë¡œ ì˜ˆìƒë©ë‹ˆë‹¤."
        }
      }
    ]
  },
  "timestamp": "2025-01-XX 10:00:00"
}
```

### 5. ëŒ€ê¸°ì§ˆ íˆìŠ¤í† ë¦¬ ì¡°íšŒ

íŠ¹ì • ê¸°ê°„ì˜ ëŒ€ê¸°ì§ˆ ë³€í™” ì¶”ì´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

```http
GET /api/air-quality/history?district=ì¤‘êµ¬&startDate=2025-01-01&endDate=2025-01-07
```

## ğŸ“ ëŒ€ê¸°ì§ˆ ë“±ê¸‰ ê¸°ì¤€

### ë¯¸ì„¸ë¨¼ì§€ (PM10)
| ë“±ê¸‰ | ë†ë„ (ã/ã¥) | ìƒ‰ìƒ | ì„¤ëª… |
|------|-------------|------|------|
| ì¢‹ìŒ | 0-30 | íŒŒë€ìƒ‰ | ëŒ€ê¸°ì˜¤ì—¼ ê´€ë ¨ ì§ˆí™˜ìêµ°ì—ì„œë„ ì˜í–¥ì´ ê±°ì˜ ì—†ëŠ” ìˆ˜ì¤€ |
| ë³´í†µ | 31-80 | ì´ˆë¡ìƒ‰ | ë¯¼ê°êµ°ì€ ì¥ì‹œê°„ ë˜ëŠ” ë¬´ë¦¬í•œ ì‹¤ì™¸í™œë™ ì œí•œ |
| ë‚˜ì¨ | 81-150 | ì£¼í™©ìƒ‰ | ì¼ë°˜ì¸ë„ ì¥ì‹œê°„ ì‹¤ì™¸í™œë™ ì‹œ ê°„í—ì  ì¦ìƒ ê°€ëŠ¥ |
| ë§¤ìš°ë‚˜ì¨ | 151+ | ë¹¨ê°„ìƒ‰ | ì¼ë°˜ì¸ë„ ì‹¤ì™¸í™œë™ ì œí•œ ë° ì‹¤ë‚´ ë¨¸ë¬¼ê¸° ê¶Œê³  |

### ì´ˆë¯¸ì„¸ë¨¼ì§€ (PM2.5)
| ë“±ê¸‰ | ë†ë„ (ã/ã¥) | ìƒ‰ìƒ | ì„¤ëª… |
|------|-------------|------|------|
| ì¢‹ìŒ | 0-15 | íŒŒë€ìƒ‰ | ëŒ€ê¸°ì˜¤ì—¼ ê´€ë ¨ ì§ˆí™˜ìêµ°ì—ì„œë„ ì˜í–¥ì´ ê±°ì˜ ì—†ëŠ” ìˆ˜ì¤€ |
| ë³´í†µ | 16-35 | ì´ˆë¡ìƒ‰ | ë¯¼ê°êµ°ì€ ì¥ì‹œê°„ ë˜ëŠ” ë¬´ë¦¬í•œ ì‹¤ì™¸í™œë™ ì œí•œ |
| ë‚˜ì¨ | 36-75 | ì£¼í™©ìƒ‰ | ì¼ë°˜ì¸ë„ ì¥ì‹œê°„ ì‹¤ì™¸í™œë™ ì‹œ ê°„í—ì  ì¦ìƒ ê°€ëŠ¥ |
| ë§¤ìš°ë‚˜ì¨ | 76+ | ë¹¨ê°„ìƒ‰ | ì¼ë°˜ì¸ë„ ì‹¤ì™¸í™œë™ ì œí•œ ë° ì‹¤ë‚´ ë¨¸ë¬¼ê¸° ê¶Œê³  |

## ğŸ¥ ê±´ê°• ê°€ì´ë“œ

### ë¯¼ê°êµ° ëŒ€ìƒ
- ì–´ë¦°ì´, ë…¸ì¸, ì²œì‹ ë“± í˜¸í¡ê¸° ì§ˆí™˜ì
- ì‹¬í˜ˆê´€ ì§ˆí™˜ì
- ì„ì‚°ë¶€

### ë“±ê¸‰ë³„ í–‰ë™ ìš”ë ¹

#### ì¢‹ìŒ (íŒŒë€ìƒ‰)
- ì‹¤ì™¸í™œë™ ë° í™˜ê¸° ê°€ëŠ¥

#### ë³´í†µ (ì´ˆë¡ìƒ‰)
- ë¯¼ê°êµ°: ì¥ì‹œê°„ ì‹¤ì™¸í™œë™ ì‹œ ë§ˆìŠ¤í¬ ì°©ìš©
- ì¼ë°˜ì¸: ì •ìƒì ì¸ ì‹¤ì™¸í™œë™ ê°€ëŠ¥

#### ë‚˜ì¨ (ì£¼í™©ìƒ‰)
- ë¯¼ê°êµ°: ì‹¤ì™¸í™œë™ ì œí•œ, ì‹¤ë‚´ ë¨¸ë¬¼ê¸°
- ì¼ë°˜ì¸: ì¥ì‹œê°„ ì‹¤ì™¸í™œë™ ì‹œ ë§ˆìŠ¤í¬ ì°©ìš©

#### ë§¤ìš°ë‚˜ì¨ (ë¹¨ê°„ìƒ‰)
- ëª¨ë“  ì‚¬ëŒ: ì‹¤ì™¸í™œë™ ê¸ˆì§€, ì‹¤ë‚´ ë¨¸ë¬¼ê¸°
- ì™¸ì¶œ ì‹œ ë³´ê±´ìš© ë§ˆìŠ¤í¬ í•„ìˆ˜ ì°©ìš©

## ğŸ“Š ëŒ€ê¸°ì§ˆ í†µê³„

### ì›”ë³„ í‰ê·  ì¡°íšŒ

```http
GET /api/air-quality/statistics/monthly?year=2024&district=ì¤‘êµ¬
```

### ì—°ê°„ ì¶”ì´ ì¡°íšŒ

```http
GET /api/air-quality/statistics/yearly?district=ì¤‘êµ¬&years=3
```

## âŒ ì—ëŸ¬ ì½”ë“œ

| ì½”ë“œ | ë©”ì‹œì§€ | ì„¤ëª… |
|------|--------|------|
| AIR_001 | ì¸¡ì •ì†Œ ì •ë³´ ì—†ìŒ | í•´ë‹¹ ì§€ì—­ ì¸¡ì •ì†Œ ì—†ìŒ |
| AIR_002 | ë°ì´í„° ì—…ë°ì´íŠ¸ ì§€ì—° | ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì‹  ì§€ì—° |
| AIR_003 | ì„œìš¸ì‹œ API ì˜¤ë¥˜ | ì™¸ë¶€ API í˜¸ì¶œ ì‹¤íŒ¨ |
| AIR_004 | ìœ íš¨í•˜ì§€ ì•Šì€ ì§€ì—­ | ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìì¹˜êµ¬ëª… |

## ğŸ“‹ ì‚¬ìš© ì˜ˆì‹œ

```javascript
// í˜„ì¬ ìœ„ì¹˜ ëŒ€ê¸°ì§ˆ ì¡°íšŒ
const getCurrentAirQuality = async (latitude, longitude) => {
  const response = await fetch(
    `/api/air-quality/nearby?latitude=${latitude}&longitude=${longitude}`
  );
  const data = await response.json();
  
  const airQuality = data.data.airQuality;
  const pm25Grade = airQuality.pm25.grade;
  
  // ëŒ€ê¸°ì§ˆì— ë”°ë¥¸ ì•Œë¦¼
  if (pm25Grade === 'ë‚˜ì¨' || pm25Grade === 'ë§¤ìš°ë‚˜ì¨') {
    showAirQualityAlert(airQuality);
  }
  
  return data;
};

// ëŒ€ê¸°ì§ˆ ì•Œë¦¼ í‘œì‹œ
const showAirQualityAlert = (airQuality) => {
  const message = `í˜„ì¬ ë¯¸ì„¸ë¨¼ì§€ ë†ë„: ${airQuality.pm25.value}ã/ã¥ (${airQuality.pm25.grade})
${airQuality.healthAdvice.general}`;
  
  showNotification({
    title: 'ëŒ€ê¸°ì§ˆ ì£¼ì˜ë³´',
    message,
    type: 'warning',
    priority: 'high'
  });
};
```

---

**ì—…ë°ì´íŠ¸**: 2025-08-21  
**ë²„ì „**: v1.0.0
